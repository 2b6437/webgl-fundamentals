<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/ru/webgl-2d-vs-3d-library.md. Do not edited directly -->
<!--
Copyright 2012, Gregg Tavares.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

    * Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following disclaimer
in the documentation and/or other materials provided with the
distribution.
    * Neither the name of Gregg Tavares. nor the names of his
contributors may be used to endorse or promote products derived from
this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta property="og:title" content="WebGL - Растеризация или 3D-библиотека" />
<meta property="og:type" content="website" />
<meta property="og:image" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />
<meta property="og:description" content="Почему WebGL не является 3D-библиотекой и что из этого следует" />
<meta property="og:url" content="http://webglfundamentals.org//webgl/lessons/ru/webgl-2d-vs-3d-library.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@greggman" />
<meta name="twitter:creator" content="@greggman" />
<meta name="twitter:domain" content="webglfundamentals.org" />
<meta name="twitter:title" content="WebGL - Растеризация или 3D-библиотека" />
<meta name="twitter:url" content="http://webglfundamentals.org//webgl/lessons/ru/webgl-2d-vs-3d-library.html" />
<meta name="twitter:description" content="Почему WebGL не является 3D-библиотекой и что из этого следует" />
<meta name="twitter:image:src" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />


<title>WebGL - Растеризация или 3D-библиотека</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/resources/base.css" type="text/css" />
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css" type="text/css" />
</head>
<body>
<div class="webgl_header">
  <h1><a href="/">WebGLFundamentals.org</a></h1>
</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL - Растеризация или 3D-библиотека</h1>
  </div>
  <div class="row">
    <div class="col-sm-8 lesson-main">
      <p>Эта статья - что-то вроде отступления от серии статей о WebGL. Первая статья
<a href="webgl-fundamentals.html">начинается с основ WebGL</a>.</p>
<p>Меня побудило написать эту статью то, что некоторых людей задевает, когда я говорю,
что WebGL - это не API 3D, а на самом деле API растеризации. Не понимаю, почему
люди так остро реагируют и расстраиваются, когда я говорю, что WebGL - API растеризации.</p>
<p>Пожалуй, всё зависит от того, с какой стороны взглянуть. Например, я могу назвать
нож кухонной принадлежностью, кто-то назовёт его инструментом, а кто-то скажет,
что нож - это оружие.</p>
<p>Однако, в случае с WebGL есть причины, по которым я считаю, что WebGL необходимо
называть API растеризации, и это в основном из-за того, каким объёмом знаний в
3D-математике вам необходимо обладать, чтобы отрисовать что-нибудь в 3D,
используя WebGL.</p>
<p>По моему мнению то, что называет себя 3D-библиотекой, должно выполнять эти
вещи за вас. У вас должна быть возможность передать библиотеке 3D-данные,
некоторые параметры материала, плюс освещение, и библиотека должна нарисовать
всё для вас. WebGL (как и OpenGL ES 2.0+) может отрисовывать 3D, но в целом
не попадает под данное выше определение.</p>
<p>Для сравнения, C++ не может редактировать тексты из коробки. Поэтому мы и
не называем C++ текстовым редактором, хотя он и может быть написан на C++.
Аналогично, WebGL не отрисовывает 3D-графику из коробки. Вы можете написать
библиотеку, которая отрисует 3D-графику с помощью WebGL, но сам по себе он
не может работать с 3D-графикой.</p>
<p>Следующий пример. Предположим, нам нужно отобразить 3D-куб с освещением.</p>
<p>Вот код на three.js, который делает это:</p>
<pre class="prettyprint showlinemods">
  // настраиваем WebGL
  var c = document.getElementById("c");
  renderer = new THREE.WebGLRenderer();
  renderer.setSize(c.clientWidth, c.clientHeight);
  c.appendChild(renderer.domElement);

  // устанавливаем камеру
  camera = new THREE.PerspectiveCamera(
      70, c.clientWidth / c.clientHeight, 1, 1000);
  camera.position.z = 400;
  camera.updateProjectionMatrix();

  // создаём сцену
  scene = new THREE.Scene();

  // создаём куб
  var geometry = new THREE.BoxGeometry(200, 200, 200);

  // создаём материал
  var material = new THREE.MeshPhongMaterial({
    ambient: 0x555555,
    color: 0x555555,
    specular: 0xffffff,
    shininess: 50,
    shading: THREE.SmoothShading
  });

  // создаём меш на основании геометрии и материала
  mesh = new THREE.Mesh(geometry, material);
  scene.add(mesh);

  // добавляем 2 источника освещения
  light1 = new THREE.PointLight(0xff0040, 2, 0);
  light1.position.set(200, 100, 300);
  scene.add(light1);

  light2 = new THREE.PointLight(0x0040ff, 2, 0);
  light2.position.set(-200, 100, 300);
  scene.add(light2);
</pre>

<p>И вот куб уже отображается:</p>
<p><div>
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/resources%2Fthree-js-cube-with-lights.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/resources%2Fthree-js-cube-with-lights.html" target="_blank">нажмите здесь, чтобы открыть в отдельном окне</a>
</div>

</p>
<p>Вот аналогичный пример кода на OpenGL (не ES) для отображения
куба с 2 источниками освещения.</p>
<pre class="prettyprint showlinemods">
  // настройка
  glViewport(0, 0, width, height);
  glMatrixMode(GL_PROJECTION);
  glLoadIdentity();
  gluPerspective(70.0, width / height, 1, 1000);
  glMatrixMode(GL_MODELVIEW);
  glLoadIdentity();

  glClearColor(0.0, 0.0, 0.0, 0.0);
  glEnable(GL_DEPTH_TEST);
  glShadeModel(GL_SMOOTH);
  glEnable(GL_LIGHTING);

  // задаём 2 источника освещения
  glEnable(GL_LIGHT0);
  glEnable(GL_LIGHT1);
  float light0_position[] = {  200, 100, 300, };
  float light1_position[] = { -200, 100, 300, };
  float light0_color[] = { 1, 0, 0.25, 1, };
  float light1_color[] = { 0, 0.25, 1, 1, };
  glLightfv(GL_LIGHT0, GL_DIFFUSE, light0_color);
  glLightfv(GL_LIGHT1, GL_DIFFUSE, light1_color);
  glLightfv(GL_LIGHT0, GL_POSITION, light0_position);
  glLightfv(GL_LIGHT1, GL_POSITION, light1_position);
...

  // отрисовка куба
  static int count = 0;
  ++count;

  glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
  glLoadIdentity();
  double angle = count * 0.1;
  glTranslatef(0, 0, -400);
  glRotatef(angle, 0, 1, 0);

  glBegin(GL_TRIANGLES);
  glNormal3f(0, 0, 1);
  glVertex3f(-100, -100, 100);
  glVertex3f( 100, -100, 100);
  glVertex3f(-100,  100, 100);
  glVertex3f(-100,  100, 100);
  glVertex3f( 100, -100, 100);
  glVertex3f( 100,  100, 100);

  /*
  ...
  ... повторить для 5 других граней куба
  ...
  */

  glEnd();
</pre>

<p>Заметьте, что нам практически не нужно знаний 3D-математики для этих двух
примеров. Сравните их с WebGL. Я не буду приводить код, необходимый для
WebGL. Кода будет ненамного больше. Дело даже не в том, сколько строк кода
необходимо. Дело в том, сколько всего нужно <strong>знать</strong>. Эти две 3D-библиотеки
участвуют в 3D. Вы передаёте им положение камеры и поле зрения, пару источников
света и куб. Остальное они доделывают сами. Другими словами, они являются
3D-библиотеками.</p>
<p>Что касается WebGL, вам необходимо знать математику матриц, нормализацию
координат, фрустумы, векторное произведение, скалярное произведение,
интерполяцию varying-переменных, расчёт бликов освещения и всех этих вещей,
изучение которых зачастую занимает месяцы, а то и годы.</p>
<p>Весь смысл 3D-библиотек в том, что все эти знания уже встроены в библиотеку,
и вам не нужно самому обладать этими знаниями, вы можете положиться на
библиотеку. Это было свойственно OpenGL, пример с которым был показан выше.
Это свойственно другим библиотекам вроде three.js. Но это НЕ свойственно
OpenGL ES 2.0+ или WebGL.</p>
<p>Поэтому будет заблуждением назвать WebGL 3D-библиотекой. Пользователь придёт
к WebGL с мыслью &quot;О, 3D-библиотека. Здорово. Сейчас она сделает за меня всё 3D&quot;.
А затем он понимает, что нет, всё не так просто.</p>
<p>Мы можем зайти ещё дальше. Вот каркас 3D-куба на Canvas:</p>
<p><div>
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/resources%2F3d-in-canvas.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/resources%2F3d-in-canvas.html" target="_blank">нажмите здесь, чтобы открыть в отдельном окне</a>
</div>

</p>
<p>А вот каркас 3D-куба на WebGL:</p>
<p><div>
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/resources%2F3d-in-webgl.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/resources%2F3d-in-webgl.html" target="_blank">нажмите здесь, чтобы открыть в отдельном окне</a>
</div>

</p>
<p>Если вы взглянете на код, вы увидите, что между ними не такая уж большая разница
в плане количества знаний и даже в плане объёма кода. В конечном счёте, версия
с Canvas обходит вершины, выполняет ПЕРЕДАННУЮ НАМИ математику и рисует линии
в 2D. Версия с WebGL делает то же самое, с тем лишь исключением, что ПЕРЕДАННАЯ
НАМИ математика выполняется на языке GLSL на видеокарте.</p>
<p>Цель последней демонстрации - показать, что по сути WebGL является средством
растеризации, как и Canvas 2D. Конечно, WebGL включает в себя функциональные
возможности, которые упрощают реализацию 3D. WebGL имеет буфер глубины, который
делает сортировку по глубине значительно более простой. Также WebGL содержит
множество встроенных математических функций, которые очень полезны для
3D-математики, хотя это не делает их 3D-функциями. Скорей это библиотека для
математики. Вы используете их для вычисления математики хоть для 1D, хоть для
2D, хоть для 3D. Но сам WebGL - только растеризация. Вам необходимо задать
координаты отсечения, которые указывают, что нужно отрисовать. Вы передаёте
x,y,z,w и всё это делится на W перед рендерингом, но этого вряд ли достаточно,
чтобы назвать WebGL 3D-библиотекой. В 3D-библиотеке вы указываете 3D-данные,
библиотека сама вычисляет точки пространства отсечения из 3D.</p>
<p>Надеюсь, что, по крайней мере, вы понимаете, из чего я исхожу, когда говорю,
что WebGL нельзя назвать 3D-библиотекой. Также надеюсь, что вы понимаете,
что 3D-библиотека должна управлять 3D-данными. OpenGL это умеет. Three.js
тоже. OpenGL ES 2.0 и WebGL - нет. Поэтому, на мой взгляд, он не принадлежит
к понятию &quot;3D-библиотека&quot;.</p>
<p>Цель данной статьи - дать разработчику, который хочет познакомиться с
WebGL, понимание того, чем на самом деле является WebGL. Зная, что WebGL
не является 3D-библиотекой, и разработчику придётся самому разбираться
во многих вещах, человек сможет решить, захочет ли он сам разобраться в
3D-математике, или же он выберет 3D-библиотеку, которая сделает всё за
него. Кроме того, подобное понимание снимает завесу тайны с того, как
работает WebGL.</p>

      <hr class="lesson-comment-sep" />
      <div class="lesson-comments">
        <div>Вопросы? <a href="http://stackoverflow.com/questions/tagged/webgl">Спросите на stackoverflow</a>.</div>
        <div>Нашли ошибку? <a href="http://github.com/greggman/webgl-fundamentals/issues">Создайте задачу на github</a>.</div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL - Растеризация или 3D-библиотека';
            var disqus_title = 'WebGL - Растеризация или 3D-библиотека';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
    <div class="col-sm-3 col-sm-offset-1 lesson-sidebar">
        <select id="language">
</select>

        <ul>
  <li>Основы</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-fundamentals.html">Основы WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-how-it-works.html">Как работает WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-shaders-and-glsl.html">Шейдеры и GLSL в WebGL</a></li>
  </ul>
  <li>Обработка изображений</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-image-processing.html">Обработка изображений в WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-image-processing-continued.html">Продолжаем обработку изображений в WebGL</a></li>
  </ul>
  <li>Математика переноса, поворота и масштабирования в 2D</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-2d-translation.html">2D-перенос в WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-2d-rotation.html">2D-поворот в WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-2d-scale.html">2D-масштабирование в WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-2d-matrices.html">2D-матрицы в WebGL</a></li>
  </ul>
  <li>3D</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-3d-orthographic.html">WebGL 3D - Ортогональ</a></li>
    <li><a href="/webgl/lessons/ru/webgl-3d-perspective.html">WebGL 3D - Перспектива</a></li>
    <li><a href="/webgl/lessons/ru/webgl-3d-camera.html">WebGL 3D - Камеры</a></li>
  </ul>
  <li>Освещение</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-3d-lighting-directional.html">WebGL 3D - Направленное освещение</a></li>
    <li><a href="/webgl/lessons/ru/webgl-3d-lighting-point.html">WebGL 3D - Точечное освещение</a></li>
  </ul>
  <li>Структура и устройство</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-less-code-more-fun.html">WebGL - Меньше кода, больше веселья</a></li>
    <li><a href="/webgl/lessons/ru/webgl-drawing-multiple-things.html">WebGL - Отрисовка нескольких объектов</a></li>
    <li><a href="/webgl/lessons/ru/webgl-scene-graph.html">WebGL - Графы сцены</a></li>
  </ul>
  <li>Геометрия</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-3d-geometry-lathe.html">WebGL 3D - Создание модели (en)</a></li>
  </ul>
  <li>Текстуры</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-3d-textures.html">WebGL 3D - Текстуры</a></li>
    <li><a href="/webgl/lessons/ru/webgl-2-textures.html">WebGL - Использование 2 и более текстур</a></li>
    <li><a href="/webgl/lessons/ru/webgl-cors-permission.html">WebGL - Кросс-доменные изображения</a></li>
  </ul>
  <li>Приёмы</li>
  <ul>
    <li>2D</li>
    <ul>
      <li><a href="/webgl/lessons/ru/webgl-2d-drawimage.html">WebGL 2D - DrawImage</a>
      <li><a href="/webgl/lessons/ru/webgl-2d-matrix-stack.html">WebGL 2D - Стек матриц</a>
    </ul>
    <li>Текст</li>
    <ul>
      <li><a href="/webgl/lessons/ru/webgl-text-html.html">WebGL текст - HTML</a>
      <li><a href="/webgl/lessons/ru/webgl-text-canvas2d.html">WebGL текст - Canvas 2D</a>
      <li><a href="/webgl/lessons/ru/webgl-text-texture.html">WebGL текст - Используем текстуру</a>
      <li><a href="/webgl/lessons/ru/webgl-text-glyphs.html">WebGL текст - Используем глиф-текстуру</a>
    </ul>
  </ul>
  <li>Разное</li>
  <ul>
    <li><a href="/webgl/lessons/ru/webgl-setup-and-installation.html">WebGL Установка и настройка</a></li>
    <li><a href="/webgl/lessons/ru/webgl-boilerplate.html">Шаблон WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-resizing-the-canvas.html">Изменение размера Canvas в WebGL</a></li>
    <li><a href="/webgl/lessons/ru/webgl-animation.html">WebGL - Анимация</a></li>
    <li><a href="/webgl/lessons/ru/webgl-and-alpha.html">WebGL и прозрачность</a></li>
    <li><a href="/webgl/lessons/ru/webgl-2d-vs-3d-library.html">WebGL - 2D и 3D библиотеки</a></li>
    <li><a href="/webgl/lessons/ru/webgl-anti-patterns.html">WebGL - Антипаттерны</a></li>
  </ul>
</ul>
<ul>
  <li><a href="/docs/">Документация по вспомогательным функциям</a></li>
  <li><a href="http://twgljs.org">TWGL, лёгкая библиотека-помощник для WebGL</a></li>
  <li><a href="https://github.com/greggman/webgl-fundamentals">github</a></li>
</ul>

    </div>
  </div>
</div>
</body>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js"></script>
<script src="/langdb.js"></script>
<script src="/webgl/lessons/resources/languages.js"></script>
<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');

</script>


</html>



