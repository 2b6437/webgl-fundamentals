<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/ko/webgl-resizing-the-canvas.md. Do not edited directly -->
<!--
Copyright 2012, Gregg Tavares.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of Gregg Tavares. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta property="og:title" content="WebGL Canvas 크기 조정." />
<meta property="og:type" content="website" />
<meta property="og:image" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />
<meta property="og:description" content="WebGL Canvas 크기 조정 및 관련 문제 해결법" />
<meta property="og:url" content="http://webglfundamentals.org/webgl/lessons/ko/webgl-resizing-the-canvas.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@greggman" />
<meta name="twitter:creator" content="@greggman" />
<meta name="twitter:domain" content="webglfundamentals.org" />
<meta name="twitter:title" content="WebGL Canvas 크기 조정." />
<meta name="twitter:url" content="http://webglfundamentals.org/webgl/lessons/ko/webgl-resizing-the-canvas.html" />
<meta name="twitter:description" content="WebGL Canvas 크기 조정 및 관련 문제 해결법" />
<meta name="twitter:image:src" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />


<title>WebGL Canvas 크기 조정.</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css" type="text/css" />
</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-resizing-the-canvas.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-resizing-the-canvas.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-resizing-the-canvas.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-resizing-the-canvas.html" selected>한국어</a>
    <option value="/webgl/lessons/pl/webgl-resizing-the-canvas.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-resizing-the-canvas.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-resizing-the-canvas.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html" >简体中文</a>
</select>


    <a href="#toc">목차</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/webgl/lessons/ko/">WebGLFundamentals.org</a></h1>
</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGL Canvas 크기 조정.</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>Canvas의 크기를 조정하려면 알아야 할 사항이 있습니다.</p>
<p>모든 canvas는 두 가지 크기를 가지고 있습니다.
그 크기를 drawingbuffer라고 하는데요.
이건 canvas에 얼마나 많은 픽셀지 있는지를 말합니다.
두 번째 크기는 canvas가 표시되는 크기인데요.
CSS는 canvas가 표시되는 크기를 결정합니다.</p>
<p>두 가지 방법을 통해 canvas의 drawingbuffer를 설정할 수 있는데요.
한 가지는 HTML을 이용해서</p>
<pre><code>&lt;canvas id=&quot;c&quot; width=&quot;400&quot; height=&quot;300&quot;&gt;&lt;/canvas&gt;
</code></pre><p>다른 방법은 JavaScript를 이용해서</p>
<pre><code>&lt;canvas id=&quot;c&quot; &gt;&lt;/canvas&gt;
</code></pre><p>JavaScript</p>
<pre><code>var canvas = document.getElementById(&quot;c&quot;);
canvas.width = 400;
canvas.height = 300;
</code></pre><p>canvas 크기 설정하는데 canvas 크기에 영향을 주는 CSS가 없다면 표시 크기는 해당 drawingbuffer와 동일한 크기가 됩니다.
위 두 예제에서 canvas의 drawingbuffer는 400x300이며 표시 크기 또한 400x300이 됩니다.</p>
<p>여기 페이지에서 400x300 픽셀로 표시되는 drawingbuffer가 10x15 픽셀인 canvas 예제입니다.</p>
<pre><code>&lt;canvas id=&quot;c&quot; width=&quot;10&quot; height=&quot;15&quot; style=&quot;width: 400px; height: 300px;&quot;&gt;&lt;/canvas&gt;
</code></pre><p>혹은 이 예제처럼</p>
<pre><code>&lt;style&gt;
#c {
  width: 400px;
  height: 300px;
}
&lt;/style&gt;
&lt;canvas id=&quot;c&quot; width=&quot;10&quot; height=&quot;15&quot;&gt;&lt;/canvas&gt;
</code></pre><p>만약 canvas에 단일 픽셀 너비의 곡선을 그리면 이런 걸 볼 수 있는데</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-10x15-canvas-400x300-css.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-10x15-canvas-400x300-css.html" target="_blank">새 창을 여시려면 여기를 클릭하세요.</a>
</div>

</p>
<p>왜 이렇게 흐릿할까요?
그건 브라우저가 10x15 픽셀 canvas를 가져와서 400x300 픽셀로 늘리기 때문입니다.
일반적으로 무리하게 해석할 때 확대 혹은 축소합니다.</p>
<p>예를들어 canvas 창을 꽉 채우고 싶다면 어떻게 해야 할까요?
먼저 CSS로 창을 채우기 위해 브라우저에서 canvas를 늘릴 수 있습니다.
예를들어</p>
<pre><code>&lt;html&gt;
  &lt;head&gt;
    &lt;style&gt;
      /* border 제거 */
      body {
        border: 0;
        background-color: white;
      }
      /* canvas를 viewport 크기로 만들기 */
      canvas {
        width: 100vw;
        height: 100vh;
        display: block;
      }
    &lt;style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;canvas id=&quot;c&quot;&gt;&lt;/canvas&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>이제 브라우저가 canvas를 확장한 크기와 일치하는 drawingbuffer를 만들면 됩니다.
<code>clientWidth</code> and <code>clientHeight</code>를 사용하면 JavaScript에서 HTML의 모든 요소가 어떤 크기로 표시되는지 확인할 수 있습니다.</p>
<pre><code>function resize(canvas) {
  // 브라우저에서 canvas가 표시되는 크기 탐색
  var displayWidth  = canvas.clientWidth;
  var displayHeight = canvas.clientHeight;

  // canvas가 같은 크기가 아닐 때 확인
  if (canvas.width  != displayWidth ||
      canvas.height != displayHeight) {

    // canvas를 동일한 크기로 수정
    canvas.width  = displayWidth;
    canvas.height = displayHeight;
  }
}
</code></pre><p>대부분의 WebGL 앱들은 <a href="webgl-animation.html">애니메이션이므로</a> 렌더링 전에 이 함수를 호출하여 그리기 직전에 원하는 크기로 canvas를 조정하겠습니다.</p>
<pre><code>function drawScene() {
  resize(gl.canvas);

  ...
}
</code></pre><p>그리고 여기</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-canvas.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-canvas.html" target="_blank">새 창을 여시려면 여기를 클릭하세요.</a>
</div>

</p>
<p>뭐가 잘못됐죠?
왜 선이 전체를 감싸고 있지 않을까요?</p>
<p>그 이유는 canvas 크기 조정할 때 viewport를 설정하기 위해 <code>gl.viewport</code>를 호출해야 합니다.
<code>gl.viewport</code>는 WebGL에게 clip 공간(-1 ~ +1)에서 픽셀로 변환하고 canvas 내에서 그걸 작동시키는 방법을 알려줍니다.
WebGL context를 처음 만들 때 WebGL은 canvas와 같은 크기로 viewport를 설정하지만 이후에는 사용자가 설정합니다.
만약 canvas 크기를 변경한다면 WebGL에게 새로운 viewport 설정을 알려줘야 합니다.</p>
<p>이걸 처리할 코드를 수정해봅시다.
위에서 WebGL context가 canvas에 대한 참조를 가지므로 크기를 조절해봅시다.</p>
<pre><code>function drawScene() {
  resize(gl.canvas);

+  gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
  ...
}
</code></pre><p>이제 동작합니다.</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-canvas-viewport.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-canvas-viewport.html" target="_blank">새 창을 여시려면 여기를 클릭하세요.</a>
</div>

</p>
<p>새 창에서 열고, 창 크기를 조절하면, 항상 창을 꽉 채웁니다.</p>
<p>이렇게 물어보실 수 있는데, 왜 canvas 크기를 변경할 때 WebGL이 자동으로 viewport를 설정하지 않나요?
그 이유는 당신이 viewport를 사용하는 방법이나 이유를 모르기 때문입니다.
가령 framebuffer로 렌더링하거나 다른 viewport 크기가 필요한 다른 작업을 수행할 수 있습니다.
WebGL은 사용자의 의도를 알 수 없으므로 자동으로 viewport를 설정할 수 없습니다.</p>
<p>많은 WebGL program을 살펴보면 다양한 방법으로 canvas 크기를 조절하거나 설정해서 다룹니다.
만약 여기에 관심이 있다면 <a href="webgl-anti-patterns.html">위 같은 방법이 적합하다고 생각한 이유가 여기 있습니다</a>.</p>
<div class="webgl_bottombar">
<h3>Retina 혹은 HD-DPI display를 어떻게 처리하나요?</h3>
<p>
CSS나 Canvas에서 크기를 픽셀 단위로 지정하면 이걸 실제 픽셀일 수도 아닐 수도 있는 CSS 픽셀이라고 부릅니다.
대부분의 최신 스마트폰은 high-definition DPI display (HD-DPI)라고 부르거나 애플에서 "Retina Display"라고 부르는 display를 가지고 있습니다.
브라우저는 글자와 대부분의 CSS 스타일링을 HD-DPI 그래픽으로 렌더링하지만, WebGL에서 그래픽을 "HD-DPI" 품질로 만들려면 고해상도로 렌더링해야 합니다.
</p>
<p>
이렇게 하기 위해서 <code>window.devicePixelRatio</code> 값을 볼 수 있습니다.
이 값은 실제로 몇 픽셀이 1 CSS 픽셀과 같은지 알려주는데요.
이런 걸 처리를 하기 위해서 크기 조정 함수를 수정할 수 있습니다.
</p>
<pre class="prettyprint">
function resize(gl) {
  var realToCSSPixels = window.devicePixelRatio;

  // 브라우저가 CSS 픽셀로 Canvas를 표시하는 크기를 찾고 drawingbuffer를 device 픽셀로 일치시키는데 필요한 크기를 계산합니다.
  var displayWidth  = Math.floor(gl.canvas.clientWidth  * realToCSSPixels);
  var displayHeight = Math.floor(gl.canvas.clientHeight * realToCSSPixels);

  // Canvas와 같은 크기가 아닌지 확인
  if (gl.canvas.width  !== displayWidth ||
      gl.canvas.height !== displayHeight) {

    // Canvas를 같은 크기로 만듦
    gl.canvas.width  = displayWidth;
    gl.canvas.height = displayHeight;
  }
}
</pre>
<p>HD-DPI display가 있다면, 예를들어 스마트폰에서 이 페이지를 보는 경우 아래에 있는 선이 HD-DPI display에 맞게 조정되지 않은 위의 선보다 얇은 걸 확인해야 합니다.</p>
<div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-resize-canvas-hd-dpi.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-resize-canvas-hd-dpi.html" target="_blank">새 창을 여시려면 여기를 클릭하세요.</a>
</div>


<p>
정말 HD-DPI를 조정할지 말지는 당신에게 달렸습니다.
iPhone4나 iPhone5에서 <code>window.devicePixelRatio</code>는 <code>2</code>인데 이건 4배 많은 픽셀을 그리는 걸 의미합니다.
iPhone6Plus는 값이 <code>3</code>인 것으로 알고 있는데 이건 9배 많은 픽셀을 그린다는 뜻입니다.
그렇게 되면 program이 정말 느려질 수 있습니다.
실제로 게임에서는 표시되는 것보다 적은 픽셀로 렌더링하고 GPU에서 확장시키는게 일반적인 최적화입니다.
이건 정말로 어떤 것을 필요로 하느냐에 달려있습니다.
만약 인쇄용 그래프를 그린다면 HD-DPI를 지원하고 싶을 겁니다.
게임을 하는 경우는 그렇지 않을 수도 있고 시스템이 대량의 픽셀을 그리기에 속도가 충분하지 않다면 사용자에게 켜거나 끄도록 옵션을 제공할 수도 있습니다.
</p>
</div>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-resizing-the-canvas.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-resizing-the-canvas.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-resizing-the-canvas.html" >日本語</a>
    <option value="/webgl/lessons/ko/webgl-resizing-the-canvas.html" selected>한국어</a>
    <option value="/webgl/lessons/pl/webgl-resizing-the-canvas.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-resizing-the-canvas.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-resizing-the-canvas.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-resizing-the-canvas.html" >简体中文</a>
</select>


        <div id="toc">
          <ul>
  <li>기초</li>
  <ul>
    <li><a href="/webgl/lessons/ko/webgl-fundamentals.html">WebGL 기초</a></li>
    <li><a href="/webgl/lessons/ko/webgl-how-it-works.html">WebGL 작동 원리</a></li>
    <li><a href="/webgl/lessons/ko/webgl-shaders-and-glsl.html">WebGL 셰이더와 GLSL</a></li>
  </ul>
  <li>이미지 처리</li>
  <ul>
    <li><a href="/webgl/lessons/ko/webgl-image-processing.html">WebGL 이미지 처리</a></li>
    <li><a href="/webgl/lessons/webgl-image-processing-continued.html">WebGL 이미지 처리 심화</a></li>
  </ul>
  <li>2D 변형, 회전, 크기, 행렬 수학</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-2d-translation.html">WebGL 2D 변형</a></li>
    <li><a href="/webgl/lessons/webgl-2d-rotation.html">WebGL 2D 회전</a></li>
    <li><a href="/webgl/lessons/webgl-2d-scale.html">WebGL 2D 크기</a></li>
    <li><a href="/webgl/lessons/webgl-2d-matrices.html">WebGL 2D 행렬</a></li>
  </ul>
  <li>3D</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-3d-orthographic.html">WebGL - Orthographic 3D</a></li>
    <li><a href="/webgl/lessons/webgl-3d-perspective.html">WebGL 3D 원근법</a></li>
    <li><a href="/webgl/lessons/webgl-3d-camera.html">WebGL 3D - 카메라</a></li>
  </ul>
  <li>Lighting</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-3d-lighting-directional.html">WebGL 3D - Directional Lighting</a></li>
    <li><a href="/webgl/lessons/webgl-3d-lighting-point.html">WebGL 3D - Point Lighting</a></li>
    <li><a href="/webgl/lessons/webgl-3d-lighting-spot.html">WebGL 3D - Spot Lighting</a></li>
  </ul>
  <li>Structure and Organization</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-less-code-more-fun.html">WebGL - 코드는 적게, 재미는 더</a></li>
    <li><a href="/webgl/lessons/webgl-drawing-multiple-things.html">WebGL - Drawing Multiple Things</a></li>
    <li><a href="/webgl/lessons/webgl-scene-graph.html">WebGL - Scene Graphs</a></li>
  </ul>
  <li>Geometry</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-3d-geometry-lathe.html">WebGL 3D Geometry - Lathe</a></li>
  </ul>
  <li>텍스쳐</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-3d-textures.html">WebGL 3D - 텍스쳐</a></li>
    <li><a href="/webgl/lessons/webgl-data-textures.html">WebGL Data 텍스쳐</a></li>
    <li><a href="/webgl/lessons/webgl-2-textures.html">WebGL - 다중 텍스쳐 사용</a></li>
    <li><a href="/webgl/lessons/webgl-cors-permission.html">WebGL - Cross Origin Images</a></li>
    <li><a href="/webgl/lessons/webgl-3d-perspective-correct-texturemapping.html">WebGL 3D - 원근감 보정 텍스쳐 매핑</a></li>
  </ul>
  <li>텍스쳐 렌더링</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-render-to-texture.html">WebGL 텍스쳐 렌더링</a></li>
  </ul>
  <li>기술</li>
  <ul>
    <li>2D</li>
    <ul>
      <li><a href="/webgl/lessons/webgl-2d-drawimage.html">WebGL 2D - DrawImage</a>
      <li><a href="/webgl/lessons/webgl-2d-matrix-stack.html">WebGL 2D - Matrix Stack</a>
    </ul>
    <li>Text</li>
    <ul>
      <li><a href="/webgl/lessons/webgl-text-html.html">WebGL Text - HTML</a>
      <li><a href="/webgl/lessons/webgl-text-canvas2d.html">WebGL Text - Canvas 2D</a>
      <li><a href="/webgl/lessons/webgl-text-texture.html">WebGL Text - 텍스쳐 사용</a>
      <li><a href="/webgl/lessons/webgl-text-glyphs.html">WebGL Text - Glyph 텍스쳐 사용</a>
    </ul>
  </ul>
  <li>기타</li>
  <ul>
    <li><a href="/webgl/lessons/webgl-setup-and-installation.html">WebGL 설치</a></li>
    <li><a href="/webgl/lessons/ko/webgl-boilerplate.html">WebGL Boilerplate</a></li>
    <li><a href="/webgl/lessons/ko/webgl-resizing-the-canvas.html">WebGL Canvas 크기 조정</a></li>
    <li><a href="/webgl/lessons/webgl-animation.html">WebGL - Animation</a></li>
    <li><a href="/webgl/lessons/webgl-and-alpha.html">WebGL & Alpha</a></li>
    <li><a href="/webgl/lessons/webgl-2d-vs-3d-library.html">WebGL - 2D vs 3D 라이브러리</a></li>
    <li><a href="/webgl/lessons/webgl-anti-patterns.html">WebGL - Anti-Patterns</a></li>
  </ul>
</ul>
<ul>
  <li><a href="/docs/">API 문서</a></li>
  <li><a href="http://twgljs.org">TWGL, 가벼운 WebGL 라이브러리</a></li>
  <li><a href="https://github.com/greggman/webgl-fundamentals">github</a></li>
</ul>

        </div>
    </div>
    <div class="lesson-comments">
        <div>질문? <a href="http://stackoverflow.com/questions/tagged/webgl">stackoverflow</a>로 물어봐주세요.</div>
        <div>이슈/버그? <a href="http://github.com/greggman/webgl-fundamentals/issues">github</a>에 이슈를 만들어주세요.</div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGL Canvas 크기 조정.';
            var disqus_title = 'WebGL Canvas 크기 조정.';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js"></script>
<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');

</script>


</html>



