<!DOCTYPE html>
<!-- this file is auto-generated from webgl/lessons/ja/webgl-image-processing-continued.md. Do not edited directly -->
<!--
Copyright 2012, Gregg Tavares.
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

*   Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.

*   Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the following disclaimer
    in the documentation and/or other materials provided with the
    distribution.

*   Neither the name of Gregg Tavares. nor the names of his
    contributors may be used to endorse or promote products derived from
    this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta property="og:title" content="WebGLにおける画像処理。続き" />
<meta property="og:type" content="website" />
<meta property="og:image" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />
<meta property="og:description" content="WebGLで複数の画像加工処理をする方法" />
<meta property="og:url" content="http://webglfundamentals.org/webgl/lessons/ja/webgl-image-processing-continued.html" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@greggman" />
<meta name="twitter:creator" content="@greggman" />
<meta name="twitter:domain" content="webglfundamentals.org" />
<meta name="twitter:title" content="WebGLにおける画像処理。続き" />
<meta name="twitter:url" content="http://webglfundamentals.org/webgl/lessons/ja/webgl-image-processing-continued.html" />
<meta name="twitter:description" content="WebGLで複数の画像加工処理をする方法" />
<meta name="twitter:image:src" content="http://webglfundamentals.org/webgl/lessons/resources/webglfundamentals.jpg" />


<title>WebGLにおける画像処理。続き</title>
<link href="/webgl/lessons/resources/webglfundamentals-icon.png" rel="shortcut icon" type="image/png">
<link rel="stylesheet" href="/webgl/lessons/resources/lesson.css" type="text/css" />
</head>
<body>
<div class="webgl_navbar">
  <div>
    <select class="language">
    <option value="/webgl/lessons/webgl-image-processing-continued.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-image-processing-continued.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-image-processing-continued.html" selected>日本語</a>
    <option value="/webgl/lessons/ko/webgl-image-processing-continued.html" >한국어</a>
    <option value="/webgl/lessons/pl/webgl-image-processing-continued.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-image-processing-continued.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-image-processing-continued.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-image-processing-continued.html" >简体中文</a>
</select>


    <a href="#toc">目次</a>
  </div>
</div>
<div class="webgl_header">
  <h1><a href="/webgl/lessons/ja/">WebGLFundamentals.org</a></h1>
</div>


<div class="container">
  <div class="lesson-title">
    <h1>WebGLにおける画像処理。続き</h1>
  </div>
  <div class="lesson">
    <div class="lesson-main">
      <p>この記事は、「<a href="webgl-image-processing.html">WebGLにおける画像処理</a>」の続きである。
そちらをまだ学んでいない場合は、「<a href="webgl-image-processing.html">WebGLにおける画像処理</a>」
から読み始めることをお勧めする。</p>
<p>画像処理の次の問題は「画像処理を複数行なうにはどうしたら良いか？」である。</p>
<p>もちろん、さまざまな処理のための専用シェーダーを毎度毎度生成することもできる。
専用のUI画面を用意して、使いたい画像処理エフェクトをユーザーが選択すると
カスタムメードのシェーダーがそのたびに生成される、といった仕組みは可能だろう。
この方法は万能ではないが、リアルタイムグラフィクスのためのエフェクト作成では
<a href="http://www.youtube.com/watch?v=cQUn0Zeh-0Q">実際に使われている</a>方法である。</p>
<h2 id="-">フレームバッファの利用</h2>
<p>より柔軟なやり方として、
「２枚のテクスチャを交互に使って、次々に別のエフェクトをかけていく」方法がある。</p>
<blockquote><pre>
元画像         -&gt; [ぼかし(Blur)]          -&gt; Texture 1
Texture 1      -&gt; [シャープ(Sharpen)]     -&gt; Texture 2
Texture 2      -&gt; [輪郭検出(Edge Detect)] -&gt; Texture 1
Texture 1      -&gt; [ぼかし(Blur)]          -&gt; Texture 2
Texture 2      -&gt; [Normal]                -&gt; Canvas</pre></blockquote>

<p>これを実現するためには「フレームバッファ」を使う必要がある。
WebGLやOpenGLの「フレームバッファ」は、フレームバッファという呼び名に反して
その実態はステータスの集合(＝添付データのリスト)に過ぎず、そもそもバッファではない。
呼び名の良し悪しはともかく、フレームバッファにテクスチャーを
添付するとそのテクスチャーに対して描画できるようになる。</p>
<p>では最初に、<a href="webgl-image-processing.html">前回の講義</a>で書いた
テクスチャー生成コードを、関数として再定義しよう。</p>
<pre class="prettyprint"><code>  function createAndSetupTexture(gl) {
    var texture = gl.createTexture();
    gl.bindTexture(gl.TEXTURE_2D, texture);

    // どんなサイズの画像でもレンダリングできるように設定して、
    // ピクセル単位で操作できるようにする。
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);
    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);

    return texture;
  }

  // テクスチャーを生成し、画像を入れる。
  var originalImageTexture = createAndSetupTexture(gl);
  gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);
</code></pre><p>この関数を使って新たに２つのテクスチャーを作成、２つのフレームバッファにアタッチ(添付)する。</p>
<pre class="prettyprint"><code>  // テクスチャを２つ生成して、フレームバッファにアタッチする。
  var textures = [];
  var framebuffers = [];
  for (var ii = 0; ii &lt; 2; ++ii) {
    var texture = createAndSetupTexture(gl);
    textures.push(texture);

    // 画像と同じサイズでテクスチャーを生成する
    gl.texImage2D(
        gl.TEXTURE_2D, 0, gl.RGBA, image.width, image.height, 0,
        gl.RGBA, gl.UNSIGNED_BYTE, null);

    // フレームバッファを生成する
    var fbo = gl.createFramebuffer();
    framebuffers.push(fbo);
    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);

    // そこにテクスチャーをアタッチする。
    gl.framebufferTexture2D(
        gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);
  }
</code></pre><p>様々なエフェクトを「畳み込み行列」として定義して、そのリストを用意する。</p>
<pre class="prettyprint"><code>  // 「畳み込み行列(convolution kernels)」を定義する
  var kernels = {
    normal: [
      0, 0, 0,
      0, 1, 0,
      0, 0, 0
    ],
    gaussianBlur: [
      0.045, 0.122, 0.045,
      0.122, 0.332, 0.122,
      0.045, 0.122, 0.045
    ],
    unsharpen: [
      -1, -1, -1,
      -1,  9, -1,
      -1, -1, -1
    ],
    emboss: [
       -2, -1,  0,
       -1,  1,  1,
        0,  1,  2
    ]
  };

  // 適用するエフェクトのリスト。
  var effectsToApply = [
    &quot;gaussianBlur&quot;,
    &quot;emboss&quot;,
    &quot;gaussianBlur&quot;,
    &quot;unsharpen&quot;
  ];
</code></pre><p>最後に、２つのテクスチャを交互に使って各エフェクトを次々にかけて行く。</p>
<pre class="prettyprint"><code>  // 元画像から開始
  gl.bindTexture(gl.TEXTURE_2D, originalImageTexture);

  // テクスチャに書き込む時点では画像の上下をひっくり返さない
  gl.uniform1f(flipYLocation, 1);

  // このループでエフェクトをかけて行く。
  for (var ii = 0; ii &lt; effectsToApply.length; ++ii) {
    // フレームバッファの一方を書き込み先として設定する。
    setFramebuffer(framebuffers[ii % 2], image.width, image.height);

    drawWithKernel(effectsToApply[ii]);

    // 次の書き込みの際は、いま書き込んだテクスチャを使う。
    gl.bindTexture(gl.TEXTURE_2D, textures[ii % 2]);
  }

  // 最終的結果をcanvasへ書き込む。
  gl.uniform1f(flipYLocation, -1);  // 座標系の上下はここでひっくり返す
  setFramebuffer(null, canvas.width, canvas.height);
  drawWithKernel(&quot;normal&quot;);

  function setFramebuffer(fbo, width, height) {
    // このfboを書き込み先フレームバッファとして設定する。
    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);

    // シェーダーにフレームバッファの解像度の情報を伝える。
    gl.uniform2f(resolutionLocation, width, height);

    // フレームバッファで必要となるビューポートの設定をWebGLに伝える。
    gl.viewport(0, 0, width, height);
  }

  function drawWithKernel(name) {
    // 今回適用するエフェクトの畳み込み行列をセット
    gl.uniform1fv(kernelLocation, kernels[name]);

    // 長方形を描画する
    gl.drawArrays(gl.TRIANGLES, 0, 6);
  }
</code></pre><p>下の画面は、少々手を加えて柔軟なUIを付け足したバージョンである。
チェックを入れればそのエフェクトが適用される。
エフェクトの適用順はドラッグで変更できる。</p>
<p><div class="webgl_example_container">
  <iframe class="webgl_example" style=" " src="/webgl/resources/editor.html?url=/webgl/lessons/..%2Fwebgl-2d-image-processing.html"></iframe>
  <a class="webgl_center" href="/webgl/lessons/../webgl-2d-image-processing.html" target="_blank">クリックして別のウインドウを開く</a>
</div>

</p>
<p>まだ説明していないことがいくつかある。</p>
<p><code>gl.bindFramebuffer</code>を引数<code>null</code>で呼びだしているのは、
「フレームバッファではなくcanvasに書き込む」、という意味である。</p>
<p>WebGLは<a href="webgl-fundamentals.html">クリッピング空間</a>からピクセルに変換
しなくてはならないが、この時WebGLが基準とするのが<code>gl.viewport</code>である。
レンダリングに使っているフレームバッファとcanvasはサイズが異なるため、
フレームバッファのテクスチャにレンダリングする時点、canvasにレンダリングする時点で、
それぞれビューポートを適切に設定する必要がある。</p>
<p>最後に、<a href="webgl-fundamentals.html">元のサンプル</a>では、レンダリングの際にY座標を
ひっくり返していた。これは、WebGLでは座標(0,0)がcanvasの左下隅となっていて、
左上隅を基準とする従来の座標系とは違うためである。
この操作は、フレームバッファにレンダリングする際には不要となる。
フレームバッファは表示されることがないため、どちらが上か下かといった話とは無関係だからである。
フレームバッファのピクセル(0,0)が、エフェクトの計算上の(0,0)と一致していればよい。
これに対応するため、上下をひっくり返すかどうかはシェーダーの入力の一つ(u_flipY)
を使って決められるようにした。</p>
<pre class="prettyprint"><code>&lt;script id=&quot;2d-vertex-shader&quot; type=&quot;x-shader/x-vertex&quot;&gt;
...
uniform float u_flipY;
...

void main() {
   ...

   gl_Position = vec4(clipSpace * vec2(1, u_flipY), 0, 1);

   ...
}
&lt;/script&gt;
</code></pre><p>そして、これをレンダリングのタイミングでセットする。</p>
<pre class="prettyprint"><code>  ...

  var flipYLocation = gl.getUniformLocation(program, &quot;u_flipY&quot;);

  ...

  // ひっくり返さない
  gl.uniform1f(flipYLocation, 1);

  ...

  // ひっくり返す
  gl.uniform1f(flipYLocation, -1);
</code></pre><h2 id="-">まとめ</h2>
<p>今回はプログラムを単純にするため、GLSLプログラムを１つだけ使って、
複数のエフェクトを実現してみた。
本格的に画像処理をやろうとする場合は、GLSLプログラムを多数用意することになるだろう。
色相、彩度、輝度を調整するエフェクト用プログラム、明度、コントラストのエフェクト用プログラム、
反転させたり、量を調整したりするエフェクト用プログラム、といったものが必要となるだろう。
GLSLプログラムを切り替えたりパラメータを更新したりするため、コードを書き換える必要もあるだろう。
講義で実際にそういうサンプルプログラムを書くことも考えたが、
そういったことは読者の練習のために残しておくことにした。
複数のGLSLプログラムやそのパラメータを扱うのは、なかなか大変で、
プログラムが混沌とするのを抑えるためのリファクタリング作業は大掛かりなもの
になるだろう。</p>
<h2 id="-">次回の講義に向けて</h2>
<p>今回のサンプルプログラムやこれまで登場したサンプルによって、
WebGLが読者にとって近寄りやすいものとなれば幸いである。
二次元処理の話から始めたことで、
多少なりとも楽にWebGLを理解できるようになったのではないだろうか。</p>
<p>時間ができたら<a href="webgl-2d-translation.html">三次元の扱い方</a>や、
<a href="webgl-how-it-works.html">WebGLが裏でやっていることの詳細</a>について、
記事を書いてみるつもりだ。</p>
<p>次回は、「<a href="webgl-2-textures.html">２つ以上のテクスチャを使う方法</a>」の講義に
なる予定である。</p>

    </div>
    <div class="lesson-sidebar">
        <select class="language">
    <option value="/webgl/lessons/webgl-image-processing-continued.html" >English</a>
    <option value="/webgl/lessons/fr/webgl-image-processing-continued.html" >Français</a>
    <option value="/webgl/lessons/ja/webgl-image-processing-continued.html" selected>日本語</a>
    <option value="/webgl/lessons/ko/webgl-image-processing-continued.html" >한국어</a>
    <option value="/webgl/lessons/pl/webgl-image-processing-continued.html" >Polski</a>
    <option value="/webgl/lessons/pt-br/webgl-image-processing-continued.html" >Portuguese</a>
    <option value="/webgl/lessons/ru/webgl-image-processing-continued.html" >Русский</a>
    <option value="/webgl/lessons/zh_cn/webgl-image-processing-continued.html" >简体中文</a>
</select>


        <div id="toc">
          <ul>  <li>基本</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-fundamentals.html">基本</a></li>
<li><a href="/webgl/lessons/ja/webgl-how-it-works.html">WebGLの仕組み</a></li>
<li><a href="/webgl/lessons/ja/webgl-shaders-and-glsl.html">WebGLのシェーダーとGLSL</a></li>
        </ul>
  <li>画像処理</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-image-processing.html">WebGLにおける画像処理</a></li>
<li><a href="/webgl/lessons/ja/webgl-image-processing-continued.html">WebGLにおける画像処理。続き</a></li>
        </ul>
  <li>2Dでの移動、回転、拡大縮小、行列計算</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-2d-translation.html">二次元での移動</a></li>
<li><a href="/webgl/lessons/ja/webgl-2d-rotation.html">二次元での回転</a></li>
<li><a href="/webgl/lessons/ja/webgl-2d-scale.html">二次元での拡大縮小</a></li>
<li><a href="/webgl/lessons/ja/webgl-2d-matrices.html">二次元での行列数学</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-3d-orthographic.html">三次元の正投影</a></li>
<li><a href="/webgl/lessons/ja/webgl-3d-perspective.html">三次元透視投影</a></li>
<li><a href="/webgl/lessons/ja/webgl-3d-camera.html">三次元のカメラ</a></li>
        </ul>
  <li>Lighting</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-3d-lighting-directional.html">三次元指向性光源</a></li>
<li><a href="/webgl/lessons/ja/webgl-3d-lighting-point.html">三次元点光源</a></li>
<li><a href="/webgl/lessons/ja/webgl-3d-lighting-spot.html">Spot Lighting</a></li>
        </ul>
  <li>Structure and Organization</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-less-code-more-fun.html">Less Code, More Fun</a></li>
<li><a href="/webgl/lessons/ja/webgl-drawing-multiple-things.html">Drawing Multiple Things</a></li>
<li><a href="/webgl/lessons/ja/webgl-scene-graph.html">Scene Graphs</a></li>
        </ul>
  <li>Geometry</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-3d-geometry-lathe.html">Geometry - Lathe</a></li>
        </ul>
  <li>テクスチャ</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-3d-textures.html">Textures</a></li>
<li><a href="/webgl/lessons/ja/webgl-data-textures.html">データテクスチャ</a></li>
<li><a href="/webgl/lessons/ja/webgl-2-textures.html">複数のテクスチャを使う</a></li>
<li><a href="/webgl/lessons/ja/webgl-cors-permission.html">Cross Origin Images</a></li>
<li><a href="/webgl/lessons/ja/webgl-3d-perspective-correct-texturemapping.html">Perspective Correct Texture Mapping</a></li>
        </ul>
  <li>Rendering To A Texture</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-render-to-texture.html">Render to Texture</a></li>
        </ul>
  <li>Techniques</li>
        <ul>
            <li>2D</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-2d-drawimage.html">2D - DrawImage</a></li>
<li><a href="/webgl/lessons/ja/webgl-2d-matrix-stack.html">2D - Matrix Stack</a></li>
        </ul>
  <li>3D</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-cube-maps.html">Cubemaps</a></li>
<li><a href="/webgl/lessons/ja/webgl-environment-maps.html">Environment maps</a></li>
<li><a href="/webgl/lessons/ja/webgl-skybox.html">Skyboxes</a></li>
<li><a href="/webgl/lessons/ja/webgl-skinning.html">Skinning</a></li>
<li><a href="/webgl/lessons/ja/webgl-fog.html">Fog</a></li>
        </ul>
  <li>Text</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-text-html.html">Text - HTML</a></li>
<li><a href="/webgl/lessons/ja/webgl-text-canvas2d.html">Text - Canvas 2D</a></li>
<li><a href="/webgl/lessons/ja/webgl-text-texture.html">Text - Using a Texture</a></li>
<li><a href="/webgl/lessons/ja/webgl-text-glyphs.html">Text - Using a Glyph Texture</a></li>
        </ul>
        </ul>
  <li>Tips</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-smallest-programs.html">Smallest Programs</a></li>
<li><a href="/webgl/lessons/ja/webgl-drawing-without-data.html">Drawing Without Data</a></li>
<li><a href="/webgl/lessons/ja/webgl-pulling-vertices.html">Pulling Vertices</a></li>
        </ul>
  <li>その他のトピック</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-setup-and-installation.html">WebGLの開発環境</a></li>
<li><a href="/webgl/lessons/ja/webgl-boilerplate.html">WebGLのひな型コード</a></li>
<li><a href="/webgl/lessons/ja/webgl-indexed-vertices.html">Indexed Vertices (gl.drawElements)</a></li>
<li><a href="/webgl/lessons/ja/webgl-resizing-the-canvas.html">WebGLとcanvasのリサイズ</a></li>
<li><a href="/webgl/lessons/ja/webgl-animation.html">アニメーション</a></li>
<li><a href="/webgl/lessons/ja/webgl-points-lines-triangles.html">Points, Lines, and Triangles</a></li>
<li><a href="/webgl/lessons/ja/webgl-multiple-views.html">Multiple Views, Multiple Canvases</a></li>
<li><a href="/webgl/lessons/ja/webgl-visualizing-the-camera.html">Visualizing the Camera</a></li>
<li><a href="/webgl/lessons/ja/webgl-and-alpha.html">WebGL and Alpha</a></li>
<li><a href="/webgl/lessons/ja/webgl-2d-vs-3d-library.html">2D vs 3D libraries</a></li>
<li><a href="/webgl/lessons/ja/webgl-anti-patterns.html">Anti-Patterns</a></li>
<li><a href="/webgl/lessons/ja/webgl-matrix-vs-math.html">WebGL Matrices vs Math Matrices</a></li>
        </ul>
  <li>Reference</li>
        <ul>
          <li><a href="/webgl/lessons/ja/webgl-attributes.html">Attributes</a></li>
<li><a href="/webgl/lessons/ja/webgl-texture-units.html">Texture Units</a></li>
        </ul></ul>
<ul>
  <li><a href="/docs/">Helper API Docs(英語)</a></li>
  <li><a href="http://twgljs.org">TWGL, A tiny WebGL helper library</a></li>
  <li><a href="https://github.com/gfxfundamentals/webgl-fundamentals">github</a></li>
</ul>
        </div>
    </div>
    <div class="lesson-comments">
        <div>質問? <a href="http://stackoverflow.com/questions/tagged/webgl">stackoverflowで質問(英語)</a>.</div>
        <div>問題点/バグ? <a href="http://github.com/gfxfundamentals/webgl-fundamentals/issues">githubでissueを作成</a>.</div>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'webglfundamentals'; // required: replace example with your forum shortname
            var disqus_identifier = 'WebGLにおける画像処理。続き';
            var disqus_title = 'WebGLにおける画像処理。続き';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                if (window.location.hostname.indexOf("webglfundamentals.org") < 0) {
                    return;
                }
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
  </div>
</div>
</body>
<script src="/3rdparty/jquery-1.11.2.min.js"></script>
<script src="/webgl/lessons/resources/prettify.js"></script>
<script src="/webgl/lessons/resources/lesson.js"></script>
<script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59804936-1', 'auto');
  ga('send', 'pageview');

</script>


</html>



